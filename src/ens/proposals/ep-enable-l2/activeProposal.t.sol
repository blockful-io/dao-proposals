// SPDX-License-Identifier: MIT
pragma solidity >=0.8.25 <0.9.0;

import { Test } from "@forge-std/src/Test.sol";
import { console2 } from "@forge-std/src/console2.sol";

import { ENS_Governance } from "@ens/ens.t.sol";
import { IERC20 } from "@contracts/utils/interfaces/IERC20.sol";
import { IENSRegistryWithFallback } from "@ens/interfaces/IENSRegistryWithFallback.sol";
import { IENSRegistrar } from "@ens/interfaces/IENSRegistrar.sol";
import { IENSReverseRegistrar } from "@ens/interfaces/IENSReverseRegistrar.sol";
import { IENSNewReverseRegistrar } from "@ens/interfaces/IENSNewReverseRegistrar.sol";
import { IEthTLDResolver } from "@ens/interfaces/IEthTLDResolver.sol";
import { INewEthRegistrarController } from "@ens/interfaces/INewEthRegistrarController.sol";
import { IArbitrumReverseResolver } from "@ens/interfaces/IArbitrumReverseResolver.sol";
import { IBaseReverseResolver } from "@ens/interfaces/IBaseReverseResolver.sol";
import { ILineaReverseResolver } from "@ens/interfaces/ILineaReverseResolver.sol";
import { IOptimismReverseResolver } from "@ens/interfaces/IOptimismReverseResolver.sol";
import { IScrollReverseResolver } from "@ens/interfaces/IScrollReverseResolver.sol";
import { IDefaultReverseEnsAddr } from "@ens/interfaces/IDefaultReverseEnsAddr.sol";

abstract contract NameResolver {
    function setName(bytes32 node, string memory name) public virtual;
}

contract Proposal_ENS_EP_Enable_ENSIP19_Test is ENS_Governance {
    // Contract addresses - Update with actual addresses
    IENSNewReverseRegistrar newReverseRegistrar = IENSNewReverseRegistrar(0x283F227c4Bd38ecE252C4Ae7ECE650B0e913f1f9);
    INewEthRegistrarController newEthRegistrarController = 
        INewEthRegistrarController(0x59E16fcCd424Cc24e280Be16E11Bcd56fb0CE547);

    IENSRegistryWithFallback ensRegistry = IENSRegistryWithFallback(0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e);
    IENSRegistrar ensRegistrar = IENSRegistrar(0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85);
    IENSReverseRegistrar reverseRegistrar = IENSReverseRegistrar(0xa58E81fe9b61B5c3fE2AFD33CF304c454AbFc7Cb);
    IEthTLDResolver ethTLDResolver = IEthTLDResolver(0x30200E0cb040F38E474E53EF437c95A1bE723b2B);

    IArbitrumReverseResolver arbitrumReverseResolver = 
        IArbitrumReverseResolver(0x4b9572C03AAa8b0Efa4B4b0F0cc0f0992bEDB898);
    IBaseReverseResolver baseReverseResolver = IBaseReverseResolver(0xc800DBc8ff9796E58EfBa2d7b35028DdD1997E5e);
    ILineaReverseResolver lineaReverseResolver = ILineaReverseResolver(0x0Ce08a41bdb10420FB5Cac7Da8CA508EA313aeF8);
    IOptimismReverseResolver optimismReverseResolver = 
        IOptimismReverseResolver(0xF9Edb1A21867aC11b023CE34Abad916D29aBF107);
    IScrollReverseResolver scrollReverseResolver = IScrollReverseResolver(0xd38bf7c18c25AC1b4ce2CC077cbC35b2B97f01e7);

    // Variables
    address newDefaultReverseResolver = 0xA7d635c8de9a58a228AA69353a1699C7Cc240DCF;
    address newPublicResolver = 0xF29100983E058B709F3D539b0c765937B804AC15;
    
    address dnssecEnsAddr = 0x0fc3152971714E5ed7723FAFa650F86A4BaF30C5;
    address rootEnsAddr = 0xaB528d626EC275E3faD363fF1393A41F581c5897;
    IDefaultReverseEnsAddr defaultReverseEnsAddr = IDefaultReverseEnsAddr(0x283F227c4Bd38ecE252C4Ae7ECE650B0e913f1f9);

    // Coin type hex values
    string baseCoinType = bytes4ToHexString(bytes4(uint32(2147492101)));
    string arbitrumCoinType = bytes4ToHexString(bytes4(uint32(2147525809)));
    string scrollCoinType = bytes4ToHexString(bytes4(uint32(2148018000)));
    string optimismCoinType = bytes4ToHexString(bytes4(uint32(2147483658)));
    string lineaCoinType = bytes4ToHexString(bytes4(uint32(2147542792)));

    bytes proposalCalldata = 
        hex"000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000002a000000000000000000000000000000000000000000000000000000000000004c00000000000000000000000000000000000000000000000000000000000001320000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000c2e074ec69a0dfb2997ba6c7d2e1e00000000000000000000000000000000000c2e074ec69a0dfb2997ba6c7d2e1e00000000000000000000000000000000000c2e074ec69a0dfb2997ba6c7d2e1e00000000000000000000000000000000000c2e074ec69a0dfb2997ba6c7d2e1e00000000000000000000000000000000000c2e074ec69a0dfb2997ba6c7d2e1e00000000000000000000000000000000000c2e074ec69a0dfb2997ba6c7d2e1e00000000000000000000000057f1887a8bf19b14fc0df6fd9b2acc9af147ea85000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb000000000000000000000000283f227c4bd38ece252c4ae7ece650b0e913f1f900000000000000000000000030200e0cb040f38e474e53ef437c95a1be723b2b000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb000000000000000000000000a58e81fe9b61b5c3fe2afd33cf304c454abfc7cb00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000280000000000000000000000000000000000000000000000000000000000000036000000000000000000000000000000000000000000000000000000000000004400000000000000000000000000000000000000000000000000000000000000520000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000006e0000000000000000000000000000000000000000000000000000000000000074000000000000000000000000000000000000000000000000000000000000007c0000000000000000000000000000000000000000000000000000000000000084000000000000000000000000000000000000000000000000000000000000008e000000000000000000000000000000000000000000000000000000000000009400000000000000000000000000000000000000000000000000000000000000a400000000000000000000000000000000000000000000000000000000000000b400000000000000000000000000000000000000000000000000000000000000c400000000000000000000000000000000000000000000000000000000000000d4000000000000000000000000000000000000000000000000000000000000000441896f70aa097f6721ce401e757d1223a763fef49b8b5f90bb18567ddb86fd205dff71d34000000000000000000000000a7d635c8de9a58a228aa69353a1699c7cc240dcf0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a45ef2c7f0a097f6721ce401e757d1223a763fef49b8b5f90bb18567ddb86fd205dff71d347d8e29b968b7788e83efa746345c315e0cf10df6950259a7cb05ce0149b8b6e3000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b70000000000000000000000004b9572c03aaa8b0efa4b4b0f0cc0f0992bedb89800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a45ef2c7f0a097f6721ce401e757d1223a763fef49b8b5f90bb18567ddb86fd205dff71d344056cb788b3af93d9486e35f4d0aff6b21a4da32161ef55acba5a78d69dad5b6000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000c800dbc8ff9796e58efba2d7b35028ddd1997e5e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a45ef2c7f0a097f6721ce401e757d1223a763fef49b8b5f90bb18567ddb86fd205dff71d3444495acbb270e33daa2b6b957b8713b55ab4a023300855e3adeb370f8bfcd47a000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b70000000000000000000000000ce08a41bdb10420fb5cac7da8ca508ea313aef800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a45ef2c7f0a097f6721ce401e757d1223a763fef49b8b5f90bb18567ddb86fd205dff71d34f66cf533d101dfb2f2352e61965e14aa7e9c4164b3bfc91cbe188645e0f16336000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000f9edb1a21867ac11b023ce34abad916d29abf10700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a45ef2c7f0a097f6721ce401e757d1223a763fef49b8b5f90bb18567ddb86fd205dff71d342e83a9aa4cc1622acc9e36e8853598634e92fa0eb10aec9b07fc68664b2ad87e000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000d38bf7c18c25ac1b4ce2cc077cbc35b2b97f01e70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024a7fc7a0700000000000000000000000059e16fccd424cc24e280be16e11bcd56fb0ce547000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044e0dba60f00000000000000000000000059e16fccd424cc24e280be16e11bcd56fb0ce5470000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000044e0dba60f00000000000000000000000059e16fccd424cc24e280be16e11bcd56fb0ce5470000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000064e59d895d58665280491fc90c59d3e71704f32f95343423627fb87cf300bb02544c671cdbe4f37f790000000000000000000000000000000000000000000000000000000000000000000000000000000059e16fccd424cc24e280be16e11bcd56fb0ce547000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000024c66485b2000000000000000000000000f29100983e058b709f3d539b0c765937b804ac150000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c47a806d6b0000000000000000000000000fc3152971714e5ed7723fafa650f86a4baf30c5000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000f29100983e058b709f3d539b0c765937b804ac150000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000e646e737365632e656e732e6574680000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c47a806d6b00000000000000000000000057f1887a8bf19b14fc0df6fd9b2acc9af147ea85000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000f29100983e058b709f3d539b0c765937b804ac15000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000117265676973747261722e656e732e6574680000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c47a806d6b000000000000000000000000ab528d626ec275e3fad363ff1393a41f581c5897000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000f29100983e058b709f3d539b0c765937b804ac150000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000c726f6f742e656e732e65746800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c47a806d6b00000000000000000000000059e16fccd424cc24e280be16e11bcd56fb0ce547000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000f29100983e058b709f3d539b0c765937b804ac1500000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000012636f6e74726f6c6c65722e656e732e65746800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c47a806d6b000000000000000000000000283f227c4bd38ece252c4ae7ece650b0e913f1f9000000000000000000000000fe89cc7abb2c4183683ab71653c4cdc9b02d44b7000000000000000000000000f29100983e058b709f3d539b0c765937b804ac150000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000001764656661756c742e726576657273652e656e732e657468000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003feb23205b45786563757461626c655d20456e61626c65204c322052657665727365205265676973747261727320616e64206e6577202e6574682072656769737472617220636f6e74726f6c6c65720a232041627374726163740a0a546869732070726f706f73616c20656e61626c6573206669766520636861696e2d73706563696669632072657665727365207265736f6c7665727320666f72204c322045564d206e6574776f726b732c20616e64206f6e652064656661756c742072657665727365207265736f6c76657220617320612066616c6c6261636b206d656368616e69736d2e20546865206669766520636861696e732061726520417262697472756d2c20426173652c204c696e65612c204f50204d61696e6e657420616e64205363726f6c6c2e0a0a546869732070726f706f73616c20616c736f20656e61626c65732061206e6577202e6574682072656769737472617220636f6e74726f6c6c657220616e642073657473207468652072657665727365207265636f7264206f6620736f6d652063757272656e746c7920756e2d6e616d656420454e5320636f6e7472616374732e0a0a23204d6f7469766174696f6e0a0a5468652063757272656e7420696d706c656d656e746174696f6e206f662072657665727365207265736f6c7574696f6e206973206c696d6974656420746f20457468657265756d204d61696e6e657420616e6420617373756d6573207468617420657665727920656e746974792028612067656e6572696320736d61727420636f6e7472616374206f722075736572206163636f756e742920686173207468652073616d652061646472657373206163726f73732065766572792045564d20636861696e2e205468697320686173206265656e2066616c6c696e67206f7574206f66206c696e652077697468207265616c69747920676976656e20746865207269736520696e20736d61727420636f6e7472616374206163636f756e74732c20696e6469636174696e6720746861742072657665727365207265736f6c7574696f6e2073686f756c64206265207265736f6c766564207669612061206e616d65737061636520666f72206561636820636861696e2c20726174686572207468616e20612073696e676c652072657665727365206e616d65737061636520666f722074686520457468657265756d2065636f73797374656d206174206c617267652e0a0a546869732066756e6374696f6e616c69747920646566696e656420666f726d616c6c7920696e205b454e5349502d31395d2868747470733a2f2f646f63732e656e732e646f6d61696e732f656e7369702f31392f292c20636f6d62696e65642077697468205b454e5349502d31315d2868747470733a2f2f646f63732e656e732e646f6d61696e732f656e7369702f31312f292c20656e61626c657320e2809c4c32205072696d617279204e616d65732ce2809d206d65616e696e6720646576656c6f706572732063616e206275696c6420656e642d746f2d656e6420454e5320657870657269656e63657320776974686f757420666f7263696e6720746865697220757365727320746f207472616e73616374206f6e20457468657265756d204d61696e6e65742e0a0a546f20737570706f7274206f7074696f6e616c6c792073657474696e67207468652064656661756c742072657665727365207265636f726420617420726567697374726174696f6e2074696d652c2061206e6577202e6574682072656769737472617220636f6e74726f6c6c6572206d75737420616c736f20626520656e61626c65642e2053696e6365206e657720636f6e74726f6c6c6572732068617665207369676e69666963616e74206f766572686561642c2077652061726520616c736f2074616b696e6720616476616e74616765206f662074686973206f70706f7274756e69747920746f2061646420612060726566657272657260206669656c6420666f7220726567697374726174696f6e7320616e642072656e6577616c732e2054686973206669656c6420697320656d697474656420756e6368616e6765642066726f6d2074686520726567697374726174696f6e20616e642072656e6577616c206576656e747320616e6420616c6c6f777320636c69656e747320746f20636f6e76657920696e666f726d6174696f6e2061626f75742074686520736f75726365206f66206120726567697374726174696f6e206f722072656e6577616c20666f7220706f74656e7469616c2044414f2d626173656420726566657272616c2072657761726420736368656d657320286e6f7420646566696e656420696e20746869732070726f706f73616c292e0a0a232053706563696669636174696f6e0a0a2323204465736372697074696f6e0a0a4261746368207472616e73616374696f6e20666f7220454e532044414f20657865637574696f6e0a0a2323205472616e73616374696f6e732053756d6d6172790a0a546869732070726f706f73616c20636f6e7461696e73202a2a31362a2a207472616e73616374696f6e28732920746f2062652065786563757465642062792074686520454e532044414f2054696d656c6f636b2e0a0a7c202320207c20436f6e74726163742020202020202020202020202020202020207c2046756e6374696f6e202020202020202020202020207c204465736372697074696f6e2020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020207c0a7c202d2d207c202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d207c202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d207c202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d207c0a7c203120207c2072656769737472792e656e732e657468202020202020202020207c20607365745265736f6c7665726020202020202020207c2043616c6c207365745265736f6c766572206f6e2072656769737472792e656e732e65746820202020202020202020202020202020202020202020202020202020207c0a7c203220207c2072656769737472792e656e732e657468202020202020202020207c20607365745375626e6f64655265636f7264602020207c2053657420417262697472756d2072657665727365206e616d65737061636520202020202020202020202020202020202020202020202020202020202020202020207c0a7c203320207c2072656769737472792e656e732e657468202020202020202020207c20607365745375626e6f64655265636f7264602020207c2053657420426173652072657665727365206e616d6573706163652020202020202020202020202020202020202020202020202020202020202020202020202020207c0a7c203420207c2072656769737472792e656e732e657468202020202020202020207c20607365745375626e6f64655265636f7264602020207c20536574204c696e65612072657665727365206e616d65737061636520202020202020202020202020202020202020202020202020202020202020202020202020207c0a7c203520207c2072656769737472792e656e732e657468202020202020202020207c20607365745375626e6f64655265636f7264602020207c20536574204f7074696d69736d2072657665727365206e616d65737061636520202020202020202020202020202020202020202020202020202020202020202020207c0a7c203620207c2072656769737472792e656e732e657468202020202020202020207c20607365745375626e6f64655265636f7264602020207c20536574205363726f6c6c2072657665727365206e616d657370616365202020202020202020202020202020202020202020202020202020202020202020202020207c0a7c203720207c2045544820526567697374726172202020202020202020202020207c2060616464436f6e74726f6c6c6572602020202020207c20417574686f72697365206e657720636f6e74726f6c6c6572206f6e20726567697374726172202020202020202020202020202020202020202020202020202020207c0a7c203820207c2052657665727365205265676973747261722020202020202020207c2060736574436f6e74726f6c6c6572602020202020207c20417574686f72697365206e657720636f6e74726f6c6c6572206f6e20726576657273652072656769737472617220202020202020202020202020202020202020207c0a7c203920207c2044656661756c74205265766572736520526567697374726172207c2060736574436f6e74726f6c6c6572602020202020207c20417574686f72697365206e657720636f6e74726f6c6c6572206f6e206e65772064656661756c7420726576657273652072656769737472617220202020202020207c0a7c203130207c202e657468205265736f6c766572202020202020202020202020207c2060736574496e7465726661636560202020202020207c20536574206e657720636f6e74726f6c6c657220696e7465726661636520746f206e657720636f6e74726f6c6c6572206f6e202e657468207265736f6c76657220207c0a7c203131207c2052657665727365205265676973747261722020202020202020207c206073657444656661756c745265736f6c76657260207c205365742064656661756c74207265736f6c76657220746f206e6577207075626c6963207265736f6c766572206f6e207265766572736520726567697374726172207c0a7c203132207c2052657665727365205265676973747261722020202020202020207c20607365744e616d65466f72416464726020202020207c20536574207072696d617279206e616d6520666f7220444e5353454320636f6e747261637420202020202020202020202020202020202020202020202020202020207c0a7c203133207c2052657665727365205265676973747261722020202020202020207c20607365744e616d65466f72416464726020202020207c20536574207072696d617279206e616d6520666f722072656769737472617220202020202020202020202020202020202020202020202020202020202020202020207c0a7c203134207c2052657665727365205265676973747261722020202020202020207c20607365744e616d65466f72416464726020202020207c20536574207072696d617279206e616d6520666f7220726f6f74202020202020202020202020202020202020202020202020202020202020202020202020202020207c0a7c203135207c2052657665727365205265676973747261722020202020202020207c20607365744e616d65466f72416464726020202020207c20536574207072696d617279206e616d6520666f72206e657720636f6e74726f6c6c65722020202020202020202020202020202020202020202020202020202020207c0a7c203136207c2052657665727365205265676973747261722020202020202020207c20607365744e616d65466f72416464726020202020207c20536574207072696d617279206e616d6520666f722064656661756c74207265766572736520726567697374726172202020202020202020202020202020202020207c0a0a23232044657461696c6564205472616e73616374696f6e20496e666f726d6174696f6e0a0a232323205472616e73616374696f6e20313a2043616c6c207365745265736f6c766572206f6e2072656769737472792e656e732e6574680a0a2a2a5461726765743a2a2a2072656769737472792e656e732e6574680a2a2a416464726573733a2a2a2060307830303030303030303030304332453037346543363941306446623239393742413643376432653165600a2a2a46756e6374696f6e3a2a2a20607365745265736f6c766572600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d656861736828227265766572736522296020e286922060307861303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334600a2a206061646472657373207265736f6c766572603a2060307841376436333563386465396135386132323841413639333533613136393943374363323430444346600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078313839366637306161303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334303030303030303030303030303030303030303030303030613764363335633864653961353861323238616136393335336131363939633763633234306463660a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20323a2053657420417262697472756d2072657665727365206e616d6573706163650a0a2a2a5461726765743a2a2a2072656769737472792e656e732e6574680a2a2a416464726573733a2a2a2060307830303030303030303030304332453037346543363941306446623239393742413643376432653165600a2a2a46756e6374696f6e3a2a2a20607365745375626e6f64655265636f7264600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d656861736828227265766572736522296020e286922060307861303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334600a2a206062797465733332206c6162656c603a20606c6162656c686173682822383030306134623122296020e286922060307837643865323962393638623737383865383365666137343633343563333135653063663130646636393530323539613763623035636530313439623862366533600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307834623935373243303341416138623045666134423462304630636330663039393262454442383938600a2a206075696e7436342074746c603a206030600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078356566326337663061303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334613766386130393561303062363633353830633239663936346334626663346365386634313737366439656135623730653265303865363933323761373762633030303030303030303030303030303030303030303030306665383963633761626232633431383336383361623731363533633463646339623032643434623730303030303030303030303030303030303030303030303034623935373263303361616138623065666134623462306630636330663039393262656462383938303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20333a2053657420426173652072657665727365206e616d6573706163650a0a2a2a5461726765743a2a2a2072656769737472792e656e732e6574680a2a2a416464726573733a2a2a2060307830303030303030303030304332453037346543363941306446623239393742413643376432653165600a2a2a46756e6374696f6e3a2a2a20607365745375626e6f64655265636f7264600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d656861736828227265766572736522296020e286922060307861303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334600a2a206062797465733332206c6162656c603a20606c6162656c686173682822383030303231303522296020e286922060307834303536636237383862336166393364393438366533356634643061666636623231613464613332313631656635356163626135613738643639646164356236600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307863383030444263386666393739364535384566426132643762333530323844644431393937453565600a2a206075696e7436342074746c603a206030600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078356566326337663061303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334373263323966343138363336316134363933356534653963336166373164316366373363616330303138366663656231636431393435656439656433646563313030303030303030303030303030303030303030303030306665383963633761626232633431383336383361623731363533633463646339623032643434623730303030303030303030303030303030303030303030303063383030646263386666393739366535386566626132643762333530323864646431393937653565303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20343a20536574204c696e65612072657665727365206e616d6573706163650a0a2a2a5461726765743a2a2a2072656769737472792e656e732e6574680a2a2a416464726573733a2a2a2060307830303030303030303030304332453037346543363941306446623239393742413643376432653165600a2a2a46756e6374696f6e3a2a2a20607365745375626e6f64655265636f7264600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d656861736828227265766572736522296020e286922060307861303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334600a2a206062797465733332206c6162656c603a20606c6162656c686173682822383030306537303822296020e286922060307834343439356163626232373065333364616132623662393537623837313362353561623461303233333030383535653361646562333730663862666364343761600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307830436530386134316264623130343230464235436163374461384341353038454133313361654638600a2a206075696e7436342074746c603a206030600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078356566326337663061303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334663562326161303765656263316230346339393233633265323063353938386637656339356334313530653766623030613439663734636637336666373935613030303030303030303030303030303030303030303030306665383963633761626232633431383336383361623731363533633463646339623032643434623730303030303030303030303030303030303030303030303030636530386134316264623130343230666235636163376461386361353038656133313361656638303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20353a20536574204f7074696d69736d2072657665727365206e616d6573706163650a0a2a2a5461726765743a2a2a2072656769737472792e656e732e6574680a2a2a416464726573733a2a2a2060307830303030303030303030304332453037346543363941306446623239393742413643376432653165600a2a2a46756e6374696f6e3a2a2a20607365745375626e6f64655265636f7264600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d656861736828227265766572736522296020e286922060307861303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334600a2a206062797465733332206c6162656c603a20606c6162656c686173682822383030303030306122296020e286922060307866363663663533336431303164666232663233353265363139363565313461613765396334313634623362666339316362653138383634356530663136333336600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307846394564623141323138363761433131623032334345333441626164393136443239614246313037600a2a206075696e7436342074746c603a206030600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078356566326337663061303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334373766343438383861376364373630633964333464623432626261363333323539353866373030373766393964653662653662333138646433383864323263323030303030303030303030303030303030303030303030306665383963633761626232633431383336383361623731363533633463646339623032643434623730303030303030303030303030303030303030303030303066396564623161323138363761633131623032336365333461626164393136643239616266313037303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20363a20536574205363726f6c6c2072657665727365206e616d6573706163650a0a2a2a5461726765743a2a2a2072656769737472792e656e732e6574680a2a2a416464726573733a2a2a2060307830303030303030303030304332453037346543363941306446623239393742413643376432653165600a2a2a46756e6374696f6e3a2a2a20607365745375626e6f64655265636f7264600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d656861736828227265766572736522296020e286922060307861303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334600a2a206062797465733332206c6162656c603a20606c6162656c686173682822383030383237353022296020e286922060307832653833613961613463633136323261636339653336653838353335393836333465393266613065623130616563396230376663363836363462326164383765600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307864333862663763313863323541433162346365324343303737636243333562324239376630316537600a2a206075696e7436342074746c603a206030600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078356566326337663061303937663637323163653430316537353764313232336137363366656634396238623566393062623138353637646462383666643230356466663731643334666339346463363333363036613332643733653930336130616138356531326662653163616263366535336565363963313839333534376664613664393639313030303030303030303030303030303030303030303030306665383963633761626232633431383336383361623731363533633463646339623032643434623730303030303030303030303030303030303030303030303064333862663763313863323561633162346365326363303737636263333562326239376630316537303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20373a20417574686f72697365206e657720636f6e74726f6c6c6572206f6e207265676973747261720a0a2a2a5461726765743a2a2a20455448205265676973747261720a2a2a416464726573733a2a2a2060307835376631383837613842463139623134664330644636466439423261636339416631343765413835600a2a2a46756e6374696f6e3a2a2a2060616464436f6e74726f6c6c6572600a0a2a2a506172616d65746572733a2a2a0a0a2a20606164647265737320636f6e74726f6c6c6572603a2060307835394531366663436434323443633234653238304265313645313142636435366662304345353437600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a30786137666337613037303030303030303030303030303030303030303030303030353965313666636364343234636332346532383062653136653131626364353666623063653534370a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20383a20417574686f72697365206e657720636f6e74726f6c6c6572206f6e2072657665727365207265676973747261720a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a2060736574436f6e74726f6c6c6572600a0a2a2a506172616d65746572733a2a2a0a0a2a20606164647265737320636f6e74726f6c6c6572603a2060307835394531366663436434323443633234653238304265313645313142636435366662304345353437600a2a2060626f6f6c20656e61626c6564603a206074727565600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078653064626136306630303030303030303030303030303030303030303030303035396531366663636434323463633234653238306265313665313162636435366662306365353437303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030310a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e20393a20417574686f72697365206e657720636f6e74726f6c6c6572206f6e206e65772064656661756c742072657665727365207265676973747261720a0a2a2a5461726765743a2a2a2044656661756c742052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307832383346323237633442643338656345323532433441653745434536353042306539313366316639600a2a2a46756e6374696f6e3a2a2a2060736574436f6e74726f6c6c6572600a0a2a2a506172616d65746572733a2a2a0a0a2a20606164647265737320636f6e74726f6c6c6572603a2060307835394531366663436434323443633234653238304265313645313142636435366662304345353437600a2a2060626f6f6c20656e61626c6564603a206074727565600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a3078653064626136306630303030303030303030303030303030303030303030303035396531366663636434323463633234653238306265313665313162636435366662306365353437303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030310a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031303a20536574206e657720636f6e74726f6c6c657220696e7465726661636520746f206e657720636f6e74726f6c6c6572206f6e202e657468207265736f6c7665720a0a2a2a5461726765743a2a2a202e657468205265736f6c7665720a2a2a416464726573733a2a2a2060307833303230304530636230343046333845343734453533454634333763393541316245373233623242600a2a2a46756e6374696f6e3a2a2a2060736574496e74657266616365600a0a2a2a506172616d65746572733a2a2a0a0a2a206062797465733332206e6f6465603a20606e616d6568617368282265746822296020e286922060307835383636353238303439316663393063353964336537313730346633326639353334333432333632376662383763663330306262303235343463363731636462600a2a206062797465733420696e746572666163654944603a206030786534663337663739600a2a20606164647265737320696d706c656d656e746572603a2060307835394531366663436434323443633234653238304265313645313142636435366662304345353437600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a307865353964383935643933636465623730386237353435646336363865623932383031373631363964316333336366643865643666303436393061306263633838613933666334616565346633376637393030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030353965313666636364343234636332346532383062653136653131626364353666623063653534370a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031313a205365742064656661756c74207265736f6c76657220746f206e6577207075626c6963207265736f6c766572206f6e2072657665727365207265676973747261720a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a206073657444656661756c745265736f6c766572600a0a2a2a506172616d65746572733a2a2a0a0a2a206061646472657373207265736f6c766572603a2060307846323931303039383345303538423730394633443533396230633736353933374238303441433135600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a30786336363438356232303030303030303030303030303030303030303030303030663239313030393833653035386237303966336435333962306337363539333762383034616331350a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031323a20536574207072696d617279206e616d6520666f7220444e5353454320636f6e74726163740a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a20607365744e616d65466f7241646472600a0a2a2a506172616d65746572733a2a2a0a0a2a2060616464726573732061646472603a2060307830666333313532393731373134453565643737323346414661363530463836413442614633304335600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307846323931303039383345303538423730394633443533396230633736353933374238303441433135600a2a2060737472696e67206e616d65603a2060646e737365632e656e732e657468600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a307837613830366436623030303030303030303030303030303030303030303030303066633331353239373137313465356564373732336661666136353066383661346261663330633530303030303030303030303030303030303030303030303066653839636337616262326334313833363833616237313635336334636463396230326434346237303030303030303030303030303030303030303030303030663239313030393833653035386237303966336435333962306337363539333762383034616331353030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030383030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303065363436653733373336353633326536353665373332653635373436383030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031333a20536574207072696d617279206e616d6520666f72207265676973747261720a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a20607365744e616d65466f7241646472600a0a2a2a506172616d65746572733a2a2a0a0a2a2060616464726573732061646472603a2060307835376631383837613842463139623134664330644636466439423261636339416631343765413835600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307846323931303039383345303538423730394633443533396230633736353933374238303441433135600a2a2060737472696e67206e616d65603a20607265676973747261722e656e732e657468600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a307837613830366436623030303030303030303030303030303030303030303030303537663138383761386266313962313466633064663666643962326163633961663134376561383530303030303030303030303030303030303030303030303066653839636337616262326334313833363833616237313635336334636463396230326434346237303030303030303030303030303030303030303030303030663239313030393833653035386237303966336435333962306337363539333762383034616331353030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030383030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303131373236353637363937333734373236313732326536353665373332653635373436383030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031343a20536574207072696d617279206e616d6520666f7220726f6f740a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a20607365744e616d65466f7241646472600a0a2a2a506172616d65746572733a2a2a0a0a2a2060616464726573732061646472603a2060307861423532386436323645433237354533666144333633664631333933413431463538316335383937600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307846323931303039383345303538423730394633443533396230633736353933374238303441433135600a2a2060737472696e67206e616d65603a2060726f6f742e656e732e657468600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a307837613830366436623030303030303030303030303030303030303030303030306162353238643632366563323735653366616433363366663133393361343166353831633538393730303030303030303030303030303030303030303030303066653839636337616262326334313833363833616237313635336334636463396230326434346237303030303030303030303030303030303030303030303030663239313030393833653035386237303966336435333962306337363539333762383034616331353030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030383030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303063373236663666373432653635366537333265363537343638303030303030303030303030303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031353a20536574207072696d617279206e616d6520666f72206e657720636f6e74726f6c6c65720a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a20607365744e616d65466f7241646472600a0a2a2a506172616d65746572733a2a2a0a0a2a2060616464726573732061646472603a2060307835394531366663436434323443633234653238304265313645313142636435366662304345353437600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307846323931303039383345303538423730394633443533396230633736353933374238303441433135600a2a2060737472696e67206e616d65603a2060636f6e74726f6c6c65722e656e732e657468600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a307837613830366436623030303030303030303030303030303030303030303030303539653136666363643432346363323465323830626531366531316263643536666230636535343730303030303030303030303030303030303030303030303066653839636337616262326334313833363833616237313635336334636463396230326434346237303030303030303030303030303030303030303030303030663239313030393833653035386237303966336435333962306337363539333762383034616331353030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030383030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303132363336663665373437323666366336633635373232653635366537333265363537343638303030303030303030303030303030303030303030303030303030300a6060600a0a2a2a2a0a0a232323205472616e73616374696f6e2031363a20536574207072696d617279206e616d6520666f722064656661756c742072657665727365207265676973747261720a0a2a2a5461726765743a2a2a2052657665727365205265676973747261720a2a2a416464726573733a2a2a2060307861353845383166653962363142356333664532414644333343463330346334353441624663374362600a2a2a46756e6374696f6e3a2a2a20607365744e616d65466f7241646472600a0a2a2a506172616d65746572733a2a2a0a0a2a2060616464726573732061646472603a2060307832383346323237633442643338656345323532433441653745434536353042306539313366316639600a2a206061646472657373206f776e6572603a206077616c6c65742e656e7364616f2e6574686020e286922060307846653839636337614242324334313833363833616237313635334334636463394230324434346237600a2a206061646472657373207265736f6c766572603a2060307846323931303039383345303538423730394633443533396230633736353933374238303441433135600a2a2060737472696e67206e616d65603a206064656661756c742e726576657273652e656e732e657468600a0a2a2a456e636f6465642043616c6c646174613a2a2a0a0a6060600a307837613830366436623030303030303030303030303030303030303030303030303238336632323763346264333865636532353263346165376563653635306230653931336631663930303030303030303030303030303030303030303030303066653839636337616262326334313833363833616237313635336334636463396230326434346237303030303030303030303030303030303030303030303030663239313030393833653035386237303966336435333962306337363539333762383034616331353030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030383030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303137363436353636363137353663373432653732363537363635373237333635326536353665373332653635373436383030303030303030303030303030303030300a6060600a0a2a2a2a000000000000000000000000000000000000000000"; // UPDATE CALLDATA

    function _selectFork() public override {
        // TODO: Update with appropriate block number for the proposal
        vm.createSelectFork({ blockNumber: 22_879_171, urlOrAlias: "mainnet" });
    }

    function _proposer() public pure override returns (address) {
        // TODO: Update with actual proposer address
        return 0xb8c2C29ee19D8307cb7255e1Cd9CbDE883A267d5; // Update with actual proposer
    }

    function _beforeProposal() public view override {
        // check ownership of new contracts deployed
        // newDefaultReverseResolver and newPublicResolver do not have owners
        assertEq(newReverseRegistrar.owner(), address(timelock), "newReverseRegistrar owner is not timelock");
        assertEq(newEthRegistrarController.owner(), address(timelock), "newEthRegistrarController owner is not timelock");
        assertEq(arbitrumReverseResolver.owner(), address(timelock), "arbitrumReverseResolver owner is not timelock");
        assertEq(baseReverseResolver.owner(), address(timelock), "baseReverseResolver owner is not timelock");
        assertEq(lineaReverseResolver.owner(), address(timelock), "lineaReverseResolver owner is not timelock");
        assertEq(optimismReverseResolver.owner(), address(timelock), "optimismReverseResolver owner is not timelock");
        assertEq(scrollReverseResolver.owner(), address(timelock), "scrollReverseResolver owner is not timelock");
        assertEq(defaultReverseEnsAddr.owner(), address(timelock), "defaultReverseEnsAddr owner is not timelock");
    }

    function _generateCallData()
        public
        override
        returns (
            address[] memory,
            uint256[] memory,
            string[] memory,
            bytes[] memory,
            string memory
        )
    {
        (, , , string memory description) = 
                abi.decode(proposalCalldata, (address[], uint256[], bytes[], string));
        
        // TODO: Update with actual proposal description
        uint256 numTransactions = 16;

        targets = new address[](numTransactions);
        values = new uint256[](numTransactions);
        calldatas = new bytes[](numTransactions);
        signatures = new string[](numTransactions);

        // 1. Set the new default reverse resolver
        targets[0] = address(ensRegistry);
        values[0] = 0;
        calldatas[0] = abi.encodeWithSelector(
            IENSRegistryWithFallback.setResolver.selector,
            namehash("reverse"),
            newDefaultReverseResolver
        );
        signatures[0] = "";
        
        // 2.1. Set the arbitrum reverse resolver
        assertEq(arbitrumCoinType, "8000a4b1");

        targets[1] = address(ensRegistry);
        values[1] = 0;
        calldatas[1] = abi.encodeWithSelector(
            IENSRegistryWithFallback.setSubnodeRecord.selector,
            namehash("reverse"),
            labelhash(arbitrumCoinType),
            timelock,
            arbitrumReverseResolver,
            0
        );
        signatures[1] = "";
        
        // 2.2. Set the base reverse resolver
        assertEq(baseCoinType, "80002105");

        targets[2] = address(ensRegistry);
        values[2] = 0;
        calldatas[2] = abi.encodeWithSelector(
            IENSRegistryWithFallback.setSubnodeRecord.selector,
            namehash("reverse"),
            labelhash(baseCoinType),
            timelock,
            baseReverseResolver,
            0
        );
        signatures[2] = "";
    
        // 2.3. Set the linea reverse resolver
        assertEq(lineaCoinType, "8000e708");

        targets[3] = address(ensRegistry);
        values[3] = 0;        
        calldatas[3] = abi.encodeWithSelector(
            IENSRegistryWithFallback.setSubnodeRecord.selector,
            namehash("reverse"),
            labelhash(lineaCoinType),
            timelock,
            lineaReverseResolver,
            0
        );
        signatures[3] = "";

        // 2.4. Set the optimism reverse resolver
        assertEq(optimismCoinType, "8000000a");

        targets[4] = address(ensRegistry);
        values[4] = 0;
        calldatas[4] = abi.encodeWithSelector(
            IENSRegistryWithFallback.setSubnodeRecord.selector,
            namehash("reverse"),
            labelhash(optimismCoinType),
            timelock,
            optimismReverseResolver,
            0
        );
        signatures[4] = "";

        // 2.5. Set the scroll reverse resolver
        assertEq(scrollCoinType, "80082750");

        targets[5] = address(ensRegistry);
        values[5] = 0;
        calldatas[5] = abi.encodeWithSelector(
            IENSRegistryWithFallback.setSubnodeRecord.selector,
            namehash("reverse"),
            labelhash(scrollCoinType),
            timelock,
            scrollReverseResolver,
            0
        );
        signatures[5] = "";

        // 3. Add new controller to the ETH registrar
        targets[6] = address(ensRegistrar);
        values[6] = 0;
        calldatas[6] = abi.encodeWithSelector(
            IENSRegistrar.addController.selector,
            newEthRegistrarController
        );
        signatures[6] = "";

        // 4. Set new .eth registrar as controller on the reverse registrar
        targets[7] = address(reverseRegistrar);
        values[7] = 0;
        calldatas[7] = abi.encodeWithSelector(
            IENSReverseRegistrar.setController.selector,
            newEthRegistrarController,
            true
        );
        signatures[7] = "";
    
        // 5. Set new .eth registrar as controller on the new reverse registrar
        targets[8] = address(newReverseRegistrar);
        values[8] = 0;
        calldatas[8] = abi.encodeWithSelector(
            IENSNewReverseRegistrar.setController.selector,
            newEthRegistrarController,
            true
        );
        signatures[8] = "";

        // 6. Set interface ID for INewEthRegistrarController
        bytes4 newEthRegistrarControllerInterfaceId = calculateNewEthRegistrarControllerInterfaceId();
        assertEq(newEthRegistrarControllerInterfaceId, bytes4(0xe4f37f79));
        
        targets[9] = address(ethTLDResolver);
        values[9] = 0;
        calldatas[9] = abi.encodeWithSelector(
            IEthTLDResolver.setInterface.selector,
            namehash("eth"),
            newEthRegistrarControllerInterfaceId,
            newEthRegistrarController
        );
        signatures[9] = "";

        // 7. Set new public resolver as default resolver on the reverse registrar
        targets[10] = address(reverseRegistrar);
        values[10] = 0;
        calldatas[10] = abi.encodeWithSelector(
            IENSReverseRegistrar.setDefaultResolver.selector,
            newPublicResolver
        );
        signatures[10] = "";
    
        // 8.1
        targets[11] = address(reverseRegistrar);
        values[11] = 0;
        calldatas[11] = abi.encodeWithSelector(
            IENSReverseRegistrar.setNameForAddr.selector,
            dnssecEnsAddr,
            timelock,
            newPublicResolver,
            "dnssec.ens.eth"
        );
        signatures[11] = "";
    
        // 8.2
        targets[12] = address(reverseRegistrar);
        values[12] = 0;
        calldatas[12] = abi.encodeWithSelector(
            IENSReverseRegistrar.setNameForAddr.selector,
            ensRegistrar,
            timelock,
            newPublicResolver,
            "registrar.ens.eth"
        );
        signatures[12] = "";
    
        // 8.3
        targets[13] = address(reverseRegistrar);
        values[13] = 0;
        calldatas[13] = abi.encodeWithSelector(
            IENSReverseRegistrar.setNameForAddr.selector,
            rootEnsAddr,
            timelock,
            newPublicResolver,
            "root.ens.eth"
        );
        signatures[13] = "";
    
        // 8.4
        targets[14] = address(reverseRegistrar);
        values[14] = 0;
        calldatas[14] = abi.encodeWithSelector(
            IENSReverseRegistrar.setNameForAddr.selector,
            newEthRegistrarController,
            timelock,
            newPublicResolver,
            "controller.ens.eth"
        );
        signatures[14] = "";
    
        // 8.5
        targets[15] = address(reverseRegistrar);
        values[15] = 0;
        calldatas[15] = abi.encodeWithSelector(
            IENSReverseRegistrar.setNameForAddr.selector,
            address(defaultReverseEnsAddr),
            timelock,
            newPublicResolver,
            "default.reverse.ens.eth"
        );
        signatures[15] = "";

        return (targets, values, signatures, calldatas, description);
    }

    function _afterExecution() public view override {
        // 1. Verify that the resolver for "reverse" was set to newDefaultReverseResolver
        assertEq(
            ensRegistry.resolver(namehash("reverse")), 
            newDefaultReverseResolver, 
            "Reverse resolver not set correctly"
        );
        
        // 2. Verify that L2 reverse resolvers were set correctly
        assertEq(
            ensRegistry.resolver(keccak256(abi.encodePacked(namehash("reverse"), labelhash(arbitrumCoinType)))), 
            address(arbitrumReverseResolver), 
            "Arbitrum reverse resolver not set"
        );
        assertEq(
            ensRegistry.resolver(keccak256(abi.encodePacked(namehash("reverse"), labelhash(baseCoinType)))), 
            address(baseReverseResolver), 
            "Base reverse resolver not set"
        );
        assertEq(
            ensRegistry.resolver(keccak256(abi.encodePacked(namehash("reverse"), labelhash(lineaCoinType)))), 
            address(lineaReverseResolver), 
            "Linea reverse resolver not set"
        );
        assertEq(
            ensRegistry.resolver(keccak256(abi.encodePacked(namehash("reverse"), labelhash(optimismCoinType)))), 
            address(optimismReverseResolver), 
            "Optimism reverse resolver not set"
        );
        assertEq(
            ensRegistry.resolver(keccak256(abi.encodePacked(namehash("reverse"), labelhash(scrollCoinType)))), 
            address(scrollReverseResolver), 
            "Scroll reverse resolver not set"
        );
        
        // 3. Verify that the new ETH registrar controller was added
        assertTrue(
            ensRegistrar.controllers(address(newEthRegistrarController)), 
            "New ETH registrar controller not added"
        );
        
        // 4. Verify that the new ETH registrar controller was set as controller on reverse registrar
        assertTrue(
            reverseRegistrar.controllers(address(newEthRegistrarController)), 
            "New controller not set on reverse registrar"
        );
        
        // 5. Verify that the new ETH registrar controller was set as controller on new reverse registrar
        assertTrue(
            newReverseRegistrar.controllers(address(newEthRegistrarController)), 
            "New controller not set on new reverse registrar"
        );
        
        // 6. Verify that the interface ID was set correctly for INewEthRegistrarController
        bytes4 expectedInterfaceId = calculateNewEthRegistrarControllerInterfaceId();
        assertEq(
            ethTLDResolver.interfaceImplementer(namehash("eth"), expectedInterfaceId), 
            address(newEthRegistrarController), 
            "Interface ID not set correctly"
        );
        
        // 7. Verify that the new public resolver was set as default resolver
        assertEq(
            reverseRegistrar.defaultResolver(), 
            newPublicResolver, 
            "Default resolver not set correctly"
        );
        
        // 8. Verify that reverse names were set for ENS addresses
        assertEq(
            ensRegistry.resolver(reverseRegistrar.node(dnssecEnsAddr)), 
            newPublicResolver, 
            "DNSSEC reverse name not set"
        );
        assertEq(
            ensRegistry.resolver(reverseRegistrar.node(address(ensRegistrar))), 
            newPublicResolver, 
            "Registrar reverse name not set"
        );
        assertEq(
            ensRegistry.resolver(reverseRegistrar.node(rootEnsAddr)), 
            newPublicResolver, 
            "Root reverse name not set"
        );
        assertEq(
            ensRegistry.resolver(reverseRegistrar.node(address(newEthRegistrarController))), 
            newPublicResolver, 
            "Controller reverse name not set"
        );
        assertEq(
            ensRegistry.resolver(reverseRegistrar.node(address(defaultReverseEnsAddr))), 
            newPublicResolver, 
            "Default reverse name not set"
        );
    }

    function _isProposalSubmitted() public pure override returns (bool) {
        // TODO: Set to true if proposal already exists on-chain, false if it needs to be submitted
        return true; // Update based on proposal status
    }

    function calculateNewEthRegistrarControllerInterfaceId() public pure returns (bytes4) {
        return 
            INewEthRegistrarController.rentPrice.selector ^
            INewEthRegistrarController.available.selector ^
            INewEthRegistrarController.makeCommitment.selector ^
            INewEthRegistrarController.commit.selector ^
            INewEthRegistrarController.register.selector ^
            INewEthRegistrarController.renew.selector;
    }

    function bytes4ToHexString(bytes4 value) public pure returns (string memory) {
        bytes memory hexChars = "0123456789abcdef";
        bytes memory result = new bytes(8);
        
        for (uint256 i = 0; i < 4; i++) {
            result[i * 2] = hexChars[uint8(value[i]) >> 4];
            result[i * 2 + 1] = hexChars[uint8(value[i]) & 0x0f];
        }
        
        return string(result);
    }
}
